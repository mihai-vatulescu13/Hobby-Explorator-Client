(this["webpackJsonphobby-explorator"]=this["webpackJsonphobby-explorator"]||[]).push([[0],Array(50).concat([function(e,t,a){e.exports=a.p+"static/media/user-logo.08daf816.png"},function(e,t,a){e.exports=a.p+"static/media/insta-logo.498a8a26.png"},function(e,t,a){e.exports=a.p+"static/media/mark-github-512.969d06ca.png"},function(e,t,a){e.exports=a.p+"static/media/linkedin_logo.0353eb24.png"},,function(e,t,a){e.exports=a.p+"static/media/logo.19ab5df9.png"},function(e,t,a){e.exports=a.p+"static/media/game-image.8be3002a.jpg"},function(e,t,a){e.exports=a.p+"static/media/hobby-img.863503e3.png"},function(e,t,a){e.exports=a.p+"static/media/photo-hobby.31cf6b66.jpg"},function(e,t,a){e.exports=a.p+"static/media/tennis-hobby.bb1eb7f6.jpg"},function(e,t,a){e.exports=a.p+"static/media/guitar-hobby.17cfac7e.jpg"},function(e,t,a){e.exports=a.p+"static/media/user-picture1.b95a9714.png"},,,,,,,function(e,t,a){e.exports=a.p+"static/media/chess.53e8e57a.png"},function(e,t,a){e.exports=a.p+"static/media/football.a6381de5.png"},function(e,t,a){e.exports=a.p+"static/media/books.841c4006.png"},function(e,t,a){e.exports=a.p+"static/media/listen-music.de562f5c.png"},function(e,t,a){e.exports=a.p+"static/media/paint.7038a3c1.png"},function(e,t,a){e.exports=a.p+"static/media/running.01c5b56d.png"},function(e,t,a){e.exports=a.p+"static/media/bike.df01264d.png"},function(e,t,a){e.exports=a.p+"static/media/singing.bd3f94a2.png"},function(e,t,a){e.exports=a.p+"static/media/gaming.d1eb94e4.png"},function(e,t,a){e.exports=a.p+"static/media/shopping.828f1e0d.png"},function(e,t,a){e.exports=a.p+"static/media/travel.ce1ed871.png"},function(e,t,a){e.exports=a.p+"static/media/photo.146d04a3.png"},function(e,t,a){e.exports=a.p+"static/media/guitar.374a5c1d.png"},function(e,t,a){e.exports=a.p+"static/media/theathre.e7a85d51.png"},function(e,t,a){e.exports=a.p+"static/media/videos.17227c7d.png"},function(e,t,a){e.exports=a.p+"static/media/meme.0b084e3b.png"},function(e,t,a){e.exports=a.p+"static/media/register-logo.25582fde.png"},function(e,t,a){e.exports=a.p+"static/media/user-default-pic.72d63b82.png"},,,,function(e,t,a){e.exports=a(115)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(29),c=a.n(r);a(94),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(11),l=a(13),i=a(12),m=a(16),u=(a(95),a(50)),d=a.n(u),p=a(119),h=a(118),b=(a(42),a(51)),g=a.n(b),f=a(52),E=a.n(f),v=a(53),N=a.n(v),y=(a(96),function(){return s.a.createElement("div",{className:"footer-container"},s.a.createElement("div",{className:"author-details"},s.a.createElement("div",{className:"auth-data"},s.a.createElement("p",{className:"name"},"Author:",s.a.createElement("span",{className:"color-text"}," Mihai Vatulescu")),s.a.createElement("p",{className:"date-created"},"Date:",s.a.createElement("span",{className:"color-text"}," 14.01.2021")),s.a.createElement("p",{className:"contact-me"},"Contact me: vatulescu.mihai@gmail.com or"))),s.a.createElement("div",{className:"contact-details"},s.a.createElement("ul",null,s.a.createElement("li",{className:"contact-item"},s.a.createElement("img",{className:"contact-logo",src:N.a,alt:"facebook logo"}),s.a.createElement("a",{href:"https://www.linkedin.com/in/mihai-vatulescu-2659291b2/",className:"contact-platform-name"},"linkedin")),s.a.createElement("li",{className:"contact-item"},s.a.createElement("img",{className:"contact-logo",src:g.a,alt:"instagram logo"}),s.a.createElement("a",{href:"https://www.instagram.com/mihai_vatulescu/",className:"contact-platform-name"},"Instagram")),s.a.createElement("li",{className:"contact-item"},s.a.createElement("img",{className:"contact-logo",src:E.a,alt:"linkedin logo"}),s.a.createElement("a",{href:"https://github.com/mihai-vatulescu13",className:"contact-platform-name"},"github")))))}),C=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeEmail=function(e){n.setState({email:e.target.value})},n.handleEmail=function(e){n.setState({email:e.target.value})},n.handlePassword=function(e){n.setState({password:e.target.value})},n.submitLogin=function(){fetch("https://fierce-shore-66137.herokuapp.com/login",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({email:n.state.email,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){e.user_id?(n.props.passUser(e),n.props.routeChange("home")):n.setState({correctCredentials:!1})})).catch((function(e){return console.log(e)}))},n.state={email:"",password:"",correctCredentials:!0},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"login-container"},s.a.createElement("div",{className:"title-container"},s.a.createElement("div",{className:"top-container"},s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{className:"user-logo",src:d.a,alt:"user logo"})),s.a.createElement("div",{className:"title-page"},s.a.createElement("p",{className:"page-title"},s.a.createElement("span",{className:"first-half-title"},"Sign"),s.a.createElement("span",{className:"second-half-title"},"In"))))),s.a.createElement("div",{className:"follow-message-section"},s.a.createElement("p",{className:"follow-message"},"Insert your credentials into follow fields:")),s.a.createElement("div",{className:"credentials-section-container"},s.a.createElement(p.a,{className:"form-container"},s.a.createElement(p.a.Group,{controlId:"formBasicEmail"},s.a.createElement(p.a.Label,null,"Email address"),s.a.createElement(p.a.Control,{type:"email",placeholder:"Enter email",onChange:this.handleEmail}),s.a.createElement(p.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),s.a.createElement(p.a.Group,{controlId:"formBasicPassword"},s.a.createElement(p.a.Label,null,"Password"),s.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:this.handlePassword})),s.a.createElement("div",{className:"btn-container"},s.a.createElement(h.a,{className:"btn-style",onClick:function(){e.submitLogin()}},"Login")))),this.state.correctCredentials?s.a.createElement("p",null):s.a.createElement("p",{style:{textAlign:"center",color:"#FE6B8B"}},"Incorrect password or email!"),s.a.createElement("div",{className:"register-nav-section"},s.a.createElement("div",{className:"register-nav"},s.a.createElement("div",{className:"no-account-message"},s.a.createElement("p",null,"You don't have an account yet? Create one now!")),s.a.createElement("div",{className:"register-btn"},s.a.createElement(h.a,{variant:"primary",type:"submit",className:"btn-style",onClick:function(){return e.props.routeChange("register")}},"Register"))))),s.a.createElement(y,null))}}]),a}(s.a.Component),x=a(55),w=a.n(x),k=a(56),U=a.n(k),S=a(57),I=a.n(S),j=(a(100),a(121)),P=a(58),H=a.n(P),O=a(59),D=a.n(O),A=a(60),R=a.n(A),F=a(34),M=(a(101),a(102),a(46));M.a.initializeApp({apiKey:"AIzaSyDTg94JGEQKCJURJd84PiAoT6XvElXS5LI",authDomain:"hobbyexploratorphotos.firebaseapp.com",databaseURL:"https://hobbyexploratorphotos.firebaseio.com",projectId:"hobbyexploratorphotos",storageBucket:"hobbyexploratorphotos.appspot.com",messagingSenderId:"1069276141665",appId:"1:1069276141665:web:249a2ec9b4bea1ea2a3220",measurementId:"G-WMXZ8FQN1J"});var B=M.a,L=a(61),_=a.n(L),T=[{id:1,hobbyName:"play chess",selected:!1},{id:2,hobbyName:"play football",selected:!1},{id:3,hobbyName:"read books",selected:!1},{id:4,hobbyName:"listen music",selected:!1},{id:5,hobbyName:"draw",selected:!1},{id:6,hobbyName:"running/jogging",selected:!1},{id:7,hobbyName:"biking/motocycle",selected:!1},{id:8,hobbyName:"singing",selected:!1},{id:9,hobbyName:"play video games",selected:!1},{id:10,hobbyName:"shopping",selected:!1},{id:11,hobbyName:"travelling",selected:!1},{id:12,hobbyName:"photography",selected:!1},{id:13,hobbyName:"guitar singing",selected:!1},{id:14,hobbyName:"theathre/cinema",selected:!1},{id:15,hobbyName:"watch moovies/serials",selected:!1},{id:16,hobbyName:"memes passionate",selected:!1}],J=s.a.createContext(),G=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getItem=function(e){return n.state.hobbiesList.find((function(t){return t.id===e}))},n.addHobby=function(e){var t=n.getItem(e);t.selected=!0;var a=n.state.selectedHobbies;a.push(t),n.setState((function(){return{selectedHobbies:a}}))},n.removeHobby=function(e){var t=n.state.selectedHobbies;t=t.filter((function(t){return t.id!==e})),n.getItem(e).selected=!1,n.setState({selectedHobbies:t})},n.handleUserMessage=function(e,t,a){n.setState({userName:e}),n.setState({userId:t}),n.setState({userPicturePath:a})},n.render=function(){return s.a.createElement(J.Provider,{value:{selectBtn:n.selectBtn,getItem:n.getItem,addHobby:n.addHobby,selectedHobbies:n.state.selectedHobbies,updateStatus:n.updateStatus,removeHobby:n.removeHobby,handleUserMessage:n.handleUserMessage,userName:n.state.userName,userId:n.state.userId,userPicturePath:n.state.userPicturePath}},n.props.children)},n.state={hobbiesList:T,selectedHobbies:[],userNumCompatibilities:0,userId:null,userPicturePath:"",userName:""},n}return a}(s.a.Component),z=J.Consumer,Y=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).receiveHobbies=function(){fetch("https://fierce-shore-66137.herokuapp.com/getHobbies",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user_id:n.props.userid})}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return e.hobby}));n.setState({userMatchHobbies:t})}))},n.state={imageSource:_.a,userMatchHobbies:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;B.storage().ref().child("images/"+this.props.imageprofile).getDownloadURL().then((function(t){e.setState({imageSource:t})})),this.receiveHobbies()}},{key:"render",value:function(){var e=this,t=this.props,a=t.username,n=t.city,r=t.email,c=t.userid;return s.a.createElement("div",{className:"user-card-container"},s.a.createElement("div",{className:"user-picture-section center-elem"},s.a.createElement("img",{src:this.state.imageSource,alt:"user-profile-img",className:"profile-picture"})),s.a.createElement("div",{className:"user-data-section center-elem"},s.a.createElement("div",{className:"fname-lname"},s.a.createElement("h4",{className:"username"},a)),s.a.createElement("div",{className:"hobbies-city"},s.a.createElement("div",{className:"hobbies-description"},s.a.createElement("p",{className:"user-hobby-text"},s.a.createElement("span",{className:"city-text"},r)),s.a.createElement("div",{className:"center-elem matched-user-hobbies"},s.a.createElement("h5",null,"Hobbies:"),s.a.createElement("ul",null,this.state.userMatchHobbies.map((function(e,t){return s.a.createElement("li",{className:"hobby-list-item",key:t},e)}))))),s.a.createElement("div",{className:"city-container center-elem"},s.a.createElement("h5",null,"City: ",s.a.createElement("span",{className:"city-text"},n)))),s.a.createElement(z,null,(function(t){return s.a.createElement(h.a,{className:"btn-style",onClick:function(){t.handleUserMessage(a,c,e.state.imageSource),e.props.renderMessagePage()}},"Message")}))))}}]),a}(s.a.Component),W=(a(106),a(54)),q=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onUserNameChange=function(e){n.setState({searchField:e.target.value})},n.state={searchField:""},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"search-bar-component center-elem"},s.a.createElement("div",{className:"search-section"},s.a.createElement(p.a,{inline:!0,className:"searchbar-form"},s.a.createElement(W.a,{type:"text",placeholder:"Search users",className:"mr-sm-2 search-field",onChange:this.props.searchUser}))))}}]),a}(s.a.Component),X=a(30),K=a.n(X),Q=a(35),V=a(41),Z=(a(108),a(62));function $(e){var t=e.text,a=e.userId,n=(e.receiverId,a===e.currentUserId?"sender":"receiver");return s.a.createElement("div",{className:"message-body-container-".concat(n)},s.a.createElement("h4",{className:"message-style-".concat(n)},t))}var ee=function(e){var t=B.firestore(),a=Object(n.useState)("message-page"),r=Object(V.a)(a,2),c=r[0],o=r[1],l=t.collection("messages"),i=Object(n.useState)(""),m=Object(V.a)(i,2),u=m[0],d=m[1],p=l.where("room","==","General"),b=Object(Z.a)(p,{idField:"id"}),g=Object(V.a)(b,1)[0],f=function(){var t=Object(Q.a)(K.a.mark((function t(a){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,l.add({userId:e.userId,receiverId:e.selectedUserId,createdAt:new Date,text:u,room:"General"});case 3:d("");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return"message-page"===c?s.a.createElement("div",{className:"message-page-main-container"},s.a.createElement("div",{className:"center-elem"},s.a.createElement(z,null,(function(e){return s.a.createElement("div",{className:"picture-and-name"},s.a.createElement("img",{src:e.userPicturePath,alt:"user message profile",className:"user-message-picture"}),s.a.createElement("div",{className:"name-and-close-btn"},s.a.createElement("h4",{className:"messaging-user-name"},e.userName),s.a.createElement(h.a,{className:"btn-style message-btn-style",onClick:function(){o("matches-list")}},"Close")))}))),s.a.createElement("div",{className:"messages-main-container center-elem"},s.a.createElement("div",{className:"messages-container "},void 0!==g?g.sort((function(e,t){return e.createdAt-t.createdAt})).filter((function(t){return t.userId===e.userId&&t.receiverId===e.selectedUserId||t.userId===e.selectedUserId&&t.receiverId===e.userId})).map((function(t,a){return s.a.createElement($,{key:a,text:t.text,userId:t.userId,receiverId:t.receiverId,currentUserId:e.userId})})):s.a.createElement("h2",null,"Loading")),s.a.createElement("div",{className:"center-elem"},s.a.createElement("div",{className:"message-box-and-send-btn center-elem"},s.a.createElement("form",{onSubmit:f,className:"messages-form-style"},s.a.createElement("textarea",{value:u,onChange:function(e){return d(e.target.value)},placeholder:"Enter message",className:"message-text-area"}),s.a.createElement(h.a,{type:"submit",className:"btn-style message-btn-style",disabled:!u},"Send")))))):"matches-list"===c?s.a.createElement(te,{userId:e.userId,changeRoute:e.changeRoute}):s.a.createElement(We,null)},te=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).findMatches=function(e){var t=[],a=n.state.currentUserHobbies.userArrHobby;if(void 0===a)return[];for(var s=0;s<e.length;s++)for(var r=0;r<e[s].userArrHobby.length;r++)a.includes(e[s].userArrHobby[r])&&t.push(e[s].user_id);return t},n.renderUsers=function(e){var t=n.findMatches(e);fetch("https://fierce-shore-66137.herokuapp.com/getUsers").then((function(e){return e.json()})).then((function(e){for(var a=n.exceptCurrent(e),s=[],r=0;r<a.length;r++)t.includes(a[r].user_id)&&s.push(a[r]);n.setState({matchList:s})}))},n.getCurrentUserHobbies=function(e){for(var t=0;t<e.length;t++){if(e[t].user_id===n.props.userId){n.setState({currentUserHobbies:e[t]});break}console.log("something wrong has occurred, the user does not have any hobby yet")}},n.exceptCurrent=function(e){for(var t=[],a=0;a<e.length;a++)e[a].user_id!==n.props.userId&&t.push(e[a]);return t},n.searchUser=function(e){n.setState({searchField:e.target.value})},n.renderMessagePage=function(){n.setState({currentPath:"message-page"})},n.render=function(){var e=n.state.matchList.filter((function(e){return e.username.toLowerCase().includes(n.state.searchField.toLowerCase())})).map((function(e){return s.a.createElement(Y,{key:e.user_id,userid:e.user_id,username:e.username,email:e.email,city:e.city,imageprofile:e.imageprofile,renderMessagePage:n.renderMessagePage})}));return s.a.createElement("div",null,"matches-list"===n.state.currentPath?s.a.createElement("div",{className:"match-list-main-container"},s.a.createElement("div",{className:"matches-container"},s.a.createElement("div",{className:"matches-list-title center-elem"},s.a.createElement("h2",null,"See your hobby compatibilities below!")),s.a.createElement("div",{className:"search-users-section"},s.a.createElement(q,{searchUser:n.searchUser})),s.a.createElement("div",null,s.a.createElement("p",{style:{fontSize:"20px",margin:"10px"}},"You have",s.a.createElement("span",{style:{color:"#FE6B8B",marginInline:"5px"}},n.state.matchList.length),"compatibilities")),s.a.createElement("div",{className:"center-elem"},s.a.createElement(h.a,{className:"back-home-btn btn-style",onClick:function(){return n.props.changeRoute("home")}},"Back to home")),s.a.createElement("div",{className:"matches-list-section center-elem"},s.a.createElement("div",{className:"matches-list"},e)))):"message-page"===n.state.currentPath?s.a.createElement("div",{className:"center-elem"},s.a.createElement(z,null,(function(e){return s.a.createElement(ee,{userId:n.props.userId,changeRoute:n.props.changeRoute,selectedUserId:e.userId})}))):s.a.createElement(We,null))},n.state={matchList:[],currentPath:"matches-list",currentUserHobbies:{userArrHobby:[]},searchField:""},n.renderMessagePage=n.renderMessagePage.bind(Object(F.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fierce-shore-66137.herokuapp.com/getUsersData").then((function(e){return e.json()})).then((function(t){e.getCurrentUserHobbies(t.usersHobbies);var a=e.exceptCurrent(t.usersHobbies);e.renderUsers(a)}))}}]),a}(s.a.Component),ae=(a(109),a(122),a(120),a(87)),ne=a(123),se=(a(110),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).render=function(){var t=e.props,a=t.hobbyName,n=t.iconName,r=t.itemId;return s.a.createElement(z,null,(function(e){return s.a.createElement("div",{className:"main-card-container center-elem"},s.a.createElement("div",{className:"card-container"},s.a.createElement("div",{className:"card-icon-container center-elem"},s.a.createElement("img",{src:n,alt:"option-icon",className:"card-icon"})),s.a.createElement("div",{className:"card-title-logo"},s.a.createElement("div",{className:"center-elem card-title"},s.a.createElement(ne.a.Title,{className:"card-hobby-title"},a)),s.a.createElement("div",{className:"add-remove"},s.a.createElement("div",{className:"center-elem card-btn"},s.a.createElement(h.a,{variant:"primary",className:"select-hobby-btn",onClick:function(){return e.addHobby(r)}},!0===e.getItem(r).selected?"Selected":"Select")),s.a.createElement("div",{className:"center-elem card-btn"},e.getItem(r).selected?s.a.createElement(h.a,{variant:"primary",className:"select-hobby-btn",onClick:function(){return e.removeHobby(r)}},"Remove"):s.a.createElement("div",null," "))))))}))},e}return a}(s.a.Component)),re=(a(111),a(68)),ce=a.n(re),oe=a(69),le=a.n(oe),ie=a(70),me=a.n(ie),ue=a(71),de=a.n(ue),pe=a(72),he=a.n(pe),be=a(73),ge=a.n(be),fe=a(74),Ee=a.n(fe),ve=a(75),Ne=a.n(ve),ye=a(76),Ce=a.n(ye),xe=a(77),we=a.n(xe),ke=a(78),Ue=a.n(ke),Se=a(79),Ie=a.n(Se),je=a(80),Pe=a.n(je),He=a(81),Oe=a.n(He),De=a(82),Ae=a.n(De),Re=a(83),Fe=a.n(Re),Me=[ce.a,le.a,me.a,de.a,he.a,ge.a,Ee.a,Ne.a,Ce.a,we.a,Ue.a,Ie.a,Pe.a,Oe.a,Ae.a,Fe.a],Be=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).sendHobbiesData=function(e){fetch("https://fierce-shore-66137.herokuapp.com/addHobbies",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({selectedHobbies:e,user_id:n.props.userId})}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},n.checkRedundancy=function(e){for(var t=0;t<e.length;t++)if(n.state.currentHobbies.includes(e[t]))return n.setState({rendundantHobbies:!0}),!0;return n.setState({rendundantHobbies:!1}),!1},n.render=function(){console.log(n.state.rendundantHobbies);var e=n.state.hobbies.map((function(e){return s.a.createElement(se,{key:e.id,hobbyName:e.hobbyName,iconName:Me[e.id-1],selectedItem:e.selected,itemId:e.id})}));return"hobbies-list"===n.state.currentPage?s.a.createElement("div",{className:"hobbies-list-container"},s.a.createElement("div",{className:"hobbies-section-title center-elem"},s.a.createElement("p",{className:"title-hobby-list"},"What's your hobby/hobbies?")),s.a.createElement("div",{className:"hobbies-list "},e),s.a.createElement(z,null,(function(e){return s.a.createElement("div",{className:"back-link "},0===e.selectedHobbies.length?s.a.createElement("p",{className:"choose-item-msg",style:{fontSize:"21px"}},"You must choose an item"):n.state.rendundantHobbies?s.a.createElement("p",{className:"choose-item-msg",style:{fontSize:"19px"}},"Please choose distinct hobbies that you don't have yet"):s.a.createElement("p",null),s.a.createElement(h.a,{className:"save-user-data-btn",onClick:function(){var t=e.selectedHobbies.map((function(e){return e.hobbyName}));if(0===e.selectedHobbies.length)console.log("no item choosed");else{if(!n.checkRedundancyHobbies(t))return n.checkRedundancyHobbies(t),n.setState({sentData:!0}),n.sendHobbiesData(t);console.log("please choose distinct hobbies"),n.setState({sentData:!1})}}},"Save your hobbies"),n.state.sentData?s.a.createElement("p",{className:"choose-item-msg",style:{marginTop:"25px",fontSize:"19px"}},"Hobbies saved with success"):s.a.createElement("p",null),s.a.createElement("div",{className:"back"},s.a.createElement(h.a,{className:"btn-style",style:{marginTop:"35px",cursor:"pointer"},onClick:function(){return n.props.changeRoute("home")}},"Back to home")))}))):s.a.createElement(We,null)},n.state={hobbies:T,currentPage:"hobbies-list",sentData:!1,currentHobbies:[],rendundantHobbies:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fierce-shore-66137.herokuapp.com/getHobbies",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user_id:this.props.userId})}).then((function(e){return e.json()})).then((function(t){var a=t.map((function(e){return e.hobby}));e.setState({currentHobbies:a})})).catch((function(e){return console.log(e)}))}},{key:"checkRedundancyHobbies",value:function(e){for(var t=Object(ae.a)(this.state.currentHobbies),a={},n=0;n<t.length;n++)a[t[n]]=t[n];for(var s=0;s<e.length;s++)if(e[s]in a)return this.setState({rendundantHobbies:!0}),!0;return this.setState({rendundantHobbies:!1}),!1}}]),a}(s.a.Component),Le=(a(112),a(84)),_e=a.n(Le),Te=(a(113),a(114),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFile=function(e){n.setState({file:e.target.files[0]})},n.handleUpload=function(){var e=n.state.file;B.storage().ref("".concat("images","/").concat(e.name)).put(e).on(B.storage.TaskEvent.STATE_CHANGED,(function(){})),console.log("name of the file:\n",e.name)},n.validateUserData=function(){var e=n.props.userData,t=e.userName,a=e.email,s=e.password,r=e.city;return!!(t&&a&&s&&r)&&(n.setState({correctInput:!0}),!0)},n.uploadUserData=function(){var e=n.props.userData,t=e.userName,a=e.email,s=e.password,r=e.city;fetch("https://fierce-shore-66137.herokuapp.com/register",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({userName:t,email:a,password:s,city:r,imageprofile:n.state.file.name})}).then((function(e){return e.json()})).catch((function(){return console.log("an error has occured!")})),n.setState({isSubmited:!0})},n.state={file:"",uploadedFileName:"",uploadedFilePath:"",isSubmited:!1,correctInput:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"file-upload-container center-elem"},s.a.createElement("div",{className:"input-and-label center-elem"},s.a.createElement("p",{className:"picture-profile-label"},"Please choose your profile picture"),s.a.createElement("input",{type:"file",className:"file-input",onChange:function(){var t=Object(Q.a)(K.a.mark((function t(a){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleFile(a);case 2:e.handleUpload();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),this.state.uploadedFileName?s.a.createElement("div",null,s.a.createElement("p",{style:{textAlign:"center"}},"Image preview:"),s.a.createElement("div",{className:"center-elem"},s.a.createElement("img",{className:"img-preview",src:this.state.uploadedFilePath,alt:this.state.uploadedFileName}))):s.a.createElement("div",null),s.a.createElement("div",{className:"btn-container"},s.a.createElement(h.a,{variant:"primary",className:"btn-style",onClick:function(){e.validateUserData()&&e.props.userData.isPasswordComplex?(e.uploadUserData(),e.props.onChangeReg("login")):console.log("please complete all fields or check your password complexity")}},"Register")),this.state.correctInput?this.props.userData.isPasswordComplex?s.a.createElement("div",null,s.a.createElement("p",null)):s.a.createElement("div",null,s.a.createElement("p",{style:{textAlign:"center",color:"#FF8E53"}},"Please check your credentials!")):s.a.createElement("p",{style:{textAlign:"center",color:"#FE6B8B",marginTop:"8px"}},"Please complete all fields before submit!"))}}]),a}(s.a.Component)),Je=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleUsersEmails=function(){fetch("https://fierce-shore-66137.herokuapp.com/getUsers").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return e.email}));n.setState({usersEmailsAddresses:t})}))},n.checkUniqueEmail=function(e){n.state.usersEmailsAddresses.includes(e)?n.setState({isUniqueEmail:!1}):n.setState({isUniqueEmail:!0})},n.onChangeReg=function(e){n.setState({regPath:e})},n.handleName=function(e){n.setState({userName:e.target.value})},n.handleEmail=function(e){n.setState({email:e.target.value}),n.checkUniqueEmail(e.target.value)},n.handlePassword=function(e){n.setState({password:e.target.value}),e.target.value.length>=8?n.setState({isPasswordComplex:!0}):n.setState({isPasswordComplex:!1})},n.handleCity=function(e){n.setState({city:e.target.value})},n.render=function(){return"register"===n.state.regPath?s.a.createElement("div",null,s.a.createElement(z,null,(function(e){return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"login-container"},s.a.createElement("div",{className:"title-container"},s.a.createElement("div",{className:"top-container"},s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{className:"user-logo",src:_e.a,alt:"user-logo"})),s.a.createElement("div",{className:"title-page"},s.a.createElement("p",{className:"page-title"},s.a.createElement("span",{className:"second-half-title"},"Register"))))),s.a.createElement("div",{className:"follow-message-section"},s.a.createElement("p",{className:"follow-message"},"Create your user account")),s.a.createElement("div",{className:"credentials-section-container"},s.a.createElement(p.a,{className:"form-container"},s.a.createElement(p.a.Group,{controlId:"formBasicPassword"},s.a.createElement(p.a.Label,null,"Full name"),s.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:n.handleName})),s.a.createElement(p.a.Group,{controlId:"formBasicEmail"},s.a.createElement(p.a.Label,null,"Email address"),s.a.createElement(p.a.Control,{type:"email",placeholder:"Enter email",onChange:n.handleEmail}),s.a.createElement(p.a.Text,{className:"text-muted"},"We'll never share your email with anyone else."),n.state.isUniqueEmail?s.a.createElement("div",null):s.a.createElement("p",{style:{color:"#FE6B8B",fontSize:"1rem",textAlign:"center"}},"This email was already taken!")),s.a.createElement(p.a.Group,{controlId:"formBasicPassword"},s.a.createElement(p.a.Label,null,"Password"),s.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:n.handlePassword})),n.state.isPasswordComplex?s.a.createElement("p",{style:{color:"#FE6B8B",fontSize:"13px",textAlign:"center"}},"Your password is ok"):s.a.createElement("p",{style:{color:"#FE6B8B",fontSize:"13px",textAlign:"center"}},"Your password must have more than 8 characters!"),s.a.createElement(p.a.Group,{controlId:"formBasicPassword"},s.a.createElement(p.a.Label,null,"City"),s.a.createElement(p.a.Control,{type:"text",placeholder:"City",onChange:n.handleCity})),s.a.createElement(Te,{userData:n.state,onChangeReg:n.onChangeReg})))),s.a.createElement(y,{className:"footer-component"}))}))):"login"===n.state.regPath?s.a.createElement(C,{passUser:n.props.passUser,routeChange:n.props.routeChange}):void 0},n.state={regPath:"register",userName:"",email:"",password:"",city:"",isPasswordComplex:!1,usersEmailsAddresses:[],isUniqueEmail:!0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.handleUsersEmails()}}]),a}(s.a.Component),Ge=a(85),ze=a.n(Ge),Ye=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setProfilePicture=function(){B.storage().ref().child("images/"+n.props.passUserData.imageprofile).getDownloadURL().then((function(e){n.setState({imageSource:e})}))},n.routeChange=function(e){n.setState({currentPath:e})},n.getCurrentUserHobbies=function(e){for(var t=0;t<e.length;t++){if(e[t].user_id===n.props.userId){n.setState({currentUserHobbies:e[t]});break}n.setState({currentUserHobbies:[]})}},n.deleteUserData=function(){fetch("https://fierce-shore-66137.herokuapp.com/delete-user",{method:"delete",headers:{"Content-type":"application/json"},body:JSON.stringify({givenUserId:n.props.userId,givenUserEmail:n.props.passUserData.email})}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},n.deleteFirebaseUserProfilePicture=function(){B.storage().ref("images/".concat(n.props.passUserData.imageprofile)).delete().then((function(){console.log("picture has been deleted with success")})).catch((function(){return console.log("error occurred")}))},n.deleteFirebaseUserMessages=function(){B.firestore().collection("messages").where("userId","==",n.props.userId).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))},n.onChangeNewName=function(e){n.setState({newUserName:e.target.value})},n.onChangeNewCity=function(e){n.setState({newCity:e.target.value})},n.changeUserName=function(){fetch("https://fierce-shore-66137.herokuapp.com/change-user-name",{method:"put",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:n.props.userId,newName:n.state.newUserName})}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},n.changeUserCity=function(){fetch("https://fierce-shore-66137.herokuapp.com/change-user-city",{method:"put",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:n.props.userId,newCity:n.state.newCity})}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},n.state={currentPath:"edit-profile",currentUserHobbies:{userArrHobby:[]},newUserName:n.props.passUserData.username,newCity:n.props.passUserData.city,imageSource:ze.a},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fierce-shore-66137.herokuapp.com/getUsersData").then((function(e){return e.json()})).then((function(t){e.getCurrentUserHobbies(t.usersHobbies)})),this.setProfilePicture()}},{key:"render",value:function(){var e=this;return"edit-profile"===this.state.currentPath?s.a.createElement("div",null,s.a.createElement("div",{className:"edit-profile-title-section"},s.a.createElement("p",{className:"edit-profile-title"},"Your account")),s.a.createElement("div",{className:"user-data-card-container"},s.a.createElement("div",{className:"main-user-data-container"},s.a.createElement("h4",{className:"user-data-card-title"},"Personal information"),s.a.createElement("div",{className:"user-data-card"},s.a.createElement("div",{className:"imgprf-container center-elem"},s.a.createElement("img",{className:"user-profile-image",src:this.state.imageSource,alt:"user-profile"})),s.a.createElement("div",{className:"usr-data-section center-elem"},s.a.createElement("ul",{className:"main-user-data-list "},s.a.createElement("li",null,s.a.createElement("p",{className:"user-data-label"},"Username:"),s.a.createElement("p",{className:"usr-data-text"},this.props.passUserData.username)),s.a.createElement("li",null,s.a.createElement("p",{className:"user-data-label"},"Email:"),s.a.createElement("p",{className:"usr-data-text"},this.props.passUserData.email)),s.a.createElement("li",null,s.a.createElement("p",{className:"user-data-label"},"City:"),s.a.createElement("p",{className:"usr-data-text"},this.props.passUserData.city))))),s.a.createElement("div",{className:"user-hobbies-details"},s.a.createElement("p",{className:"user-hobbies-label"},"Your selected hobbies:"),s.a.createElement("div",{className:"center-elem"},s.a.createElement("div",{className:"user-hobbies-list-items"},void 0!==this.state.currentUserHobbies.userArrHobby?this.state.currentUserHobbies.userArrHobby.map((function(e,t){return s.a.createElement("p",{key:t,className:"user-hobby-list-item"},e)})):s.a.createElement("p",{style:{fontSize:"15px",textAlign:"center"}},"You don't have any hobby yet")))))),s.a.createElement("div",{className:"account-settings-container main-user-data-container"},s.a.createElement("h4",{className:"user-data-card-title"},"Account settings"),s.a.createElement(p.a,null,s.a.createElement("div",{className:"settings-container"},s.a.createElement(p.a.Group,{className:"change-data"},s.a.createElement(p.a.Label,{className:"setting-label"},"Change your username:"),s.a.createElement("div",{className:"center-comp"},s.a.createElement(p.a.Control,{className:"change-name-field",type:"text",onChange:function(t){return e.onChangeNewName(t)}}))),s.a.createElement(p.a.Group,{className:"change-data"},s.a.createElement(p.a.Label,{className:"setting-label"},"Change your city:"),s.a.createElement("div",{className:"center-comp"},s.a.createElement(p.a.Control,{className:"change-name-field",type:"text",onChange:function(t){return e.onChangeNewCity(t)}}))),s.a.createElement("div",{className:"changes-msg-container"},s.a.createElement("p",{className:"changes-msg"},"After your changes reconnect to your account to see the result")),s.a.createElement("div",{className:"center-comp"},s.a.createElement(h.a,{className:"save-account-setting btn-style",onClick:function(){e.changeUserName(),e.changeUserCity()}},"Save changes")),s.a.createElement("div",{className:"delete-account"},s.a.createElement("label",{className:"delete-account-label"},"Delete account"),s.a.createElement("div",{className:"delete-section"},s.a.createElement("p",{className:"warning-message"},"Are you sure you want to delete your account?"),s.a.createElement("p",{className:"warning-message"},"All data will be lost."),s.a.createElement(h.a,{className:"delete-account-btn",onClick:function(){e.routeChange("login"),e.deleteFirebaseUserMessages(),e.deleteFirebaseUserProfilePicture(),e.deleteUserData()}},"Delete")))))),s.a.createElement(h.a,{className:"btn-style back-btn-home",onClick:function(){return e.routeChange("home")}},"Back to home")):"home"===this.state.currentPath?s.a.createElement(We,{routeChange:this.routeChange,userdata:this.props.passUserData}):"login"===this.state.currentPath?s.a.createElement(C,{routeChange:this.routeChange,passUser:this.props.passUser}):s.a.createElement(Je,{routeChange:this.routeChange,passUser:this.props.passUser})}}]),a}(s.a.Component),We=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeRoute=function(e){n.setState({currentPage:e})},n.state={currentPage:"home",userId:"",username:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({userId:this.props.userdata.user_id})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App main-container"},"home"===this.state.currentPage?s.a.createElement("div",null,s.a.createElement("div",{className:"logo-container"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{className:"page-logo",src:w.a,alt:"page logo"})),s.a.createElement("div",{className:"title"},s.a.createElement("p",{className:"title-text"},s.a.createElement("span",{className:"first-half"},"Hobby"),s.a.createElement("span",{className:"second-half"},"Explorator")))),s.a.createElement("div",{className:"title-page-container"},s.a.createElement("h1",{className:"title-page"},"Welcome",s.a.createElement("span",{className:"title-page-username"},"".concat(this.props.userdata.username)),"!")),s.a.createElement("div",{className:"navbar-container"},s.a.createElement("div",{className:"navbar"},s.a.createElement("div",{className:" main-navbar"},s.a.createElement("a",{className:"nav-link",onClick:function(){return e.changeRoute("hobbies-list")}},"Add hobbies"),s.a.createElement("a",{className:"nav-link",onClick:function(){return e.changeRoute("edit-profile")}},"Account"),s.a.createElement("a",{className:"nav-link",onClick:function(){return e.changeRoute("matches-list")}},"Matches list"),s.a.createElement("a",{className:"nav-link center-elem",href:"https://mihai-vatulescu13.github.io/Hobby-Explorator-Client/",type:"submit"},"Sign out")))),s.a.createElement("div",{className:"picture"},s.a.createElement(j.a,{className:"carousel-container"},s.a.createElement(j.a.Item,{className:"carousel-item"},s.a.createElement("img",{className:"d-block  slide-img-prop",src:U.a,alt:"First slide"}),s.a.createElement(j.a.Caption,{className:"carousel-caption"},s.a.createElement("h3",null,"Play video games"))),s.a.createElement(j.a.Item,{className:"carousel-item"},s.a.createElement("img",{className:"d-block  slide-img-prop",src:H.a,alt:"Second slide"}),s.a.createElement(j.a.Caption,{className:"carousel-caption"},s.a.createElement("h3",null,"Take photos"))),s.a.createElement(j.a.Item,{className:"carousel-item"},s.a.createElement("img",{className:"d-block  slide-img-prop",src:D.a,alt:"Third slide"}),s.a.createElement(j.a.Caption,{className:"carousel-caption"},s.a.createElement("h3",null,"Play tennis/sports"))),s.a.createElement(j.a.Item,{className:"carousel-item"},s.a.createElement("img",{className:"d-block  slide-img-prop",src:R.a,alt:"Fourth slide"}),s.a.createElement(j.a.Caption,{className:"carousel-caption"},s.a.createElement("h3",null,"Play music"))))),s.a.createElement("div",{className:"page-desc center-elem"},s.a.createElement("div",{className:"desc-container "},s.a.createElement("div",{className:"desctext"},s.a.createElement("p",{className:"page-desc-text"},"Discover more people with same hobby and interact with them!")),s.a.createElement("div",{className:"image-and-text"},s.a.createElement("div",{className:"descimg "},s.a.createElement("img",{className:"hobby-img",src:I.a,alt:"hobby img"})),s.a.createElement("div",{className:"page-description "},s.a.createElement("p",{className:"description-text"},"Do you have a hobby to play or do something you like and you can't do that because you're get bored by doing on your own?"),s.a.createElement("p",{className:"description-text"},"This platform is for you! In this platform you can find other people with the same hobby/passion like you have and you can interact with them in real life to do what are passionate you.")))))):"matches-list"===this.state.currentPage?s.a.createElement(te,{changeRoute:this.changeRoute,userId:this.state.userId}):"edit-profile"===this.state.currentPage?s.a.createElement(Ye,{changeRoute:this.changeRoute,passUserData:this.props.userdata,userId:this.state.userId,passUser:this.props.passUser}):s.a.createElement(Be,{changeRoute:this.changeRoute,userId:this.state.userId}),"home"===this.state.currentPage?s.a.createElement(y,null):s.a.createElement("div",null))}}]),a}(s.a.Component),qe=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).routeChange=function(t){e.setState({path:t})},e.passUser=function(t){e.setState({userData:{user_id:t.user_id,username:t.username,email:t.email,city:t.city,joined:t.joined,imageprofile:t.imageprofile}})},e.render=function(){return s.a.createElement("div",null,"home"===e.state.path?s.a.createElement(We,{routeChange:e.routeChange,userdata:e.state.userData,passUser:e.passUser}):"login"===e.state.path?s.a.createElement(C,{routeChange:e.routeChange,passUser:e.passUser}):s.a.createElement(Je,{routeChange:e.routeChange,passUser:e.passUser}))},e.state={path:"login",userData:{user_id:"",username:"",email:"",city:"",joined:"",imageprofile:""}},e}return a}(s.a.Component);c.a.render(s.a.createElement(G,null,s.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[89,1,2]]]);
//# sourceMappingURL=main.83230298.chunk.js.map